<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê±°ë˜ì²˜ë³„ ë§¤ì¶œ ë¶„ì„ ë³´ê³ ì„œ</title>
    <!-- Tailwind CSS ë¡œë”© -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js (ê·¸ë˜í”„ ë¼ì´ë¸ŒëŸ¬ë¦¬) ë¡œë”© -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Pretendard í°íŠ¸ ë¡œë”© -->
    <style>
        @import url('https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css');
        body {
            font-family: 'Pretendard', sans-serif;
            background-color: #f8fafc; /* ë°ì€ íšŒìƒ‰ ë°°ê²½ */
        }
        .chart-container {
            position: relative;
            height: 350px; /* ì°¨íŠ¸ ë†’ì´ ê³ ì • */
            width: 100%;
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <div class="max-w-7xl mx-auto bg-white p-6 sm:p-10 rounded-2xl shadow-lg">
        <!-- ë³´ê³ ì„œ í—¤ë” -->
        <header class="text-center border-b pb-6 mb-10">
            <h1 class="text-4xl font-bold text-gray-800">ê±°ë˜ì²˜ë³„ ë°ì´í„° ë¶„ì„ ë³´ê³ ì„œ</h1>
            <p class="text-md text-gray-500 mt-3">ë¶„ì„ ê¸°ê°„: 2025ë…„ 1ì›” ~ 2025ë…„ 4ì›”</p>
        </header>

        <main>
            <!-- 1. ë¶„ì„ ê°œìš” -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-700 border-l-4 border-blue-600 pl-4 mb-5">1. ë¶„ì„ ê°œìš”</h2>
                <p class="text-gray-600 leading-relaxed bg-gray-50 p-6 rounded-lg">
                    ë³¸ ë³´ê³ ì„œëŠ” 2025ë…„ 1ì›”ë¶€í„° 4ì›”ê¹Œì§€ ë°œìƒí•œ ê±°ë˜ ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ê±°ë˜ì²˜ë³„ ë§¤ì¶œ ë° ë§¤ì… í˜„í™©ì„ ë‹¤ê°ì ìœ¼ë¡œ ë¶„ì„í•©ë‹ˆë‹¤.
                    ì¢…í•© í˜„í™©, ìš°ìˆ˜ ê±°ë˜ì²˜ ìˆœìœ„, ì›”ë³„ ê±°ë˜ ì¶”ì´ ë“±ì„ ì‹œê°í™”í•˜ì—¬ ë¹„ì¦ˆë‹ˆìŠ¤ í˜„í™©ì— ëŒ€í•œ ê¹Šì´ ìˆëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì œê³µí•˜ê³ ,
                    ë°ì´í„°ì— ê¸°ë°˜í•œ í–¥í›„ ìš´ì˜ ì „ëµì„ ìˆ˜ë¦½í•˜ëŠ” ë° ê¸°ì—¬í•˜ëŠ” ê²ƒì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.
                </p>
            </section>

            <!-- 2. ì¢…í•© í˜„í™© -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-700 border-l-4 border-blue-600 pl-4 mb-5">2. ì¢…í•© í˜„í™© (2025.01 ~ 2025.04)</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-center">
                    <div class="bg-blue-50 border border-blue-200 p-6 rounded-xl">
                        <p class="text-lg text-blue-800">ì´ ë§¤ì¶œì•¡</p>
                        <p id="total-sales" class="text-3xl font-bold text-blue-900 mt-2">0 ì›</p>
                    </div>
                    <div class="bg-green-50 border border-green-200 p-6 rounded-xl">
                        <p class="text-lg text-green-800">ì´ ë§¤ì…ì•¡</p>
                        <p id="total-purchases" class="text-3xl font-bold text-green-900 mt-2">0 ì›</p>
                    </div>
                    <div class="bg-gray-50 border border-gray-200 p-6 rounded-xl">
                        <p class="text-lg text-gray-800">ì´ ê±°ë˜ ê±´ìˆ˜</p>
                        <p id="total-transactions" class="text-3xl font-bold text-gray-900 mt-2">0 ê±´</p>
                    </div>
                    <div class="bg-gray-50 border border-gray-200 p-6 rounded-xl">
                        <p class="text-lg text-gray-800">ì´ ê±°ë˜ì²˜ ìˆ˜</p>
                        <p id="unique-accounts" class="text-3xl font-bold text-gray-900 mt-2">0 ê³³</p>
                    </div>
                </div>
            </section>
            
            <!-- 3. ìš°ìˆ˜ ê±°ë˜ì²˜ ë¶„ì„ -->
            <section class="mb-12">
                 <h2 class="text-2xl font-semibold text-gray-700 border-l-4 border-blue-600 pl-4 mb-5">3. ìš°ìˆ˜ ê±°ë˜ì²˜ ë¶„ì„</h2>
                 <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                     <!-- ì´ ê±°ë˜ì•¡ ê¸°ì¤€ TOP 5 -->
                     <div class="bg-gray-50 p-6 rounded-xl">
                         <h3 class="text-xl font-semibold text-gray-800 mb-4">ğŸ† ì´ ê±°ë˜ì•¡ ê¸°ì¤€ TOP 5</h3>
                         <div class="chart-container">
                             <canvas id="topOverallChart"></canvas>
                         </div>
                     </div>
                     <!-- ì´ ë§¤ì¶œì•¡ ê¸°ì¤€ TOP 5 -->
                     <div class="bg-gray-50 p-6 rounded-xl">
                         <h3 class="text-xl font-semibold text-gray-800 mb-4">ğŸ“ˆ ì´ ë§¤ì¶œì•¡ ê¸°ì¤€ TOP 5</h3>
                         <div class="chart-container">
                             <canvas id="topSalesChart"></canvas>
                         </div>
                     </div>
                 </div>
            </section>

            <!-- 4. ì›”ë³„ ê±°ë˜ ë™í–¥ -->
            <section class="mb-12">
                <h2 class="text-2xl font-semibold text-gray-700 border-l-4 border-blue-600 pl-4 mb-5">4. ì›”ë³„ ê±°ë˜ ë™í–¥</h2>
                <div class="bg-gray-50 p-6 rounded-xl">
                    <div class="chart-container !h-[400px]">
                        <canvas id="monthlyTrendChart"></canvas>
                    </div>
                </div>
            </section>
            
            <!-- 5. ê²°ë¡  ë° ì œì–¸ -->
            <section>
                <h2 class="text-2xl font-semibold text-gray-700 border-l-4 border-blue-600 pl-4 mb-5">5. ê²°ë¡  ë° ì œì–¸</h2>
                <div class="bg-blue-50 border-l-4 border-blue-500 p-8 rounded-r-lg space-y-4 text-gray-700">
                    <p>
                        <strong>ë¶„ì„ ê²°ê³¼, 'ì‚¼ì •ìœ í†µ'ê³¼ 'ë™ì„œìƒì‚¬'ê°€ ì´ ê±°ë˜ì•¡ê³¼ ë§¤ì¶œ ë¶€ë¬¸ì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ì˜ í•µì‹¬ì ì¸ ì—­í• ì„ í•˜ê³  ìˆìŒ</strong>ì´ í™•ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ë“¤ í•µì‹¬ ê±°ë˜ì²˜ì™€ì˜ ê´€ê³„ë¥¼ ë”ìš± ê³µê³ íˆ í•˜ê³ , ë§ì¶¤í˜• í˜œíƒì´ë‚˜ ì¥ê¸° ê³„ì•½ì„ í†µí•´ ì•ˆì •ì ì¸ ë§¤ì¶œ ê¸°ë°˜ì„ ê°•í™”í•˜ëŠ” ì „ëµì´ í•„ìš”í•©ë‹ˆë‹¤.
                    </p>
                     <p>
                        ì›”ë³„ ë™í–¥ì„ ì‚´í´ë³´ë©´, <strong>1ì›”ì— ê°€ì¥ ë†’ì€ ë§¤ì¶œê³¼ ë§¤ì…ì„ ê¸°ë¡í•œ í›„ ì ì°¨ ê°ì†Œí•˜ëŠ” ì¶”ì„¸</strong>ë¥¼ ë³´ì…ë‹ˆë‹¤. íŠ¹íˆ 4ì›”ì˜ ê±°ë˜ì•¡ ê°ì†Œê°€ ëˆˆì— ë•ë‹ˆë‹¤. ì—°ì´ˆì— ì§‘ì¤‘ëœ ê±°ë˜ íŒ¨í„´ì˜ ì›ì¸ì„ íŒŒì•…í•˜ê³ , ë¹„ìˆ˜ê¸°ì¸ 2~4ì›” ê¸°ê°„ ë™ì•ˆ ë§¤ì¶œì„ í™œì„±í™”í•  ìˆ˜ ìˆëŠ” í”„ë¡œëª¨ì…˜ì´ë‚˜ ì‹ ê·œ ê±°ë˜ì²˜ ë°œêµ´ ë“±ì˜ ë…¸ë ¥ì´ ì¤‘ìš”í•´ ë³´ì…ë‹ˆë‹¤.
                    </p>
                    <p>
                        ê²°ë¡ ì ìœ¼ë¡œ, <strong>í•µì‹¬ ê±°ë˜ì²˜ì— ëŒ€í•œ ì§‘ì¤‘ ê´€ë¦¬</strong>ì™€ ë”ë¶ˆì–´ <strong>ë¶„ê¸°ë³„ ì•ˆì •ì ì¸ ë§¤ì¶œ íë¦„ì„ ë§Œë“¤ê¸° ìœ„í•œ ì „ëµ</strong>ì„ ë³‘í–‰í•˜ëŠ” ê²ƒì´ í–¥í›„ ë¹„ì¦ˆë‹ˆìŠ¤ ì„±ì¥ì— ì¤‘ìš”í•œ ê³¼ì œê°€ ë  ê²ƒì…ë‹ˆë‹¤.
                    </p>
                </div>
            </section>

        </main>
    </div>

    <script>
        // Python ë°±ì—”ë“œì—ì„œ ë¶„ì„í•œ ë°ì´í„°ë¥¼ ì—¬ê¸°ì— ì‚½ì…í•©ë‹ˆë‹¤.
        const reportData = {
            "summary": {
                "total_sales": 2235921,
                "total_purchases": 8142063,
                "total_transactions": 100,
                "unique_accounts": 10
            },
            "charts": {
                "top_overall_accounts": {
                    "labels": ["ì‚¼ì •ìœ í†µ", "ë™ì„œìƒì‚¬", "ë”ë¸”ìœ ìƒíšŒ", "í•œë¹›ìƒì‚¬", "ê·¸ë¦°í‘¸ë“œ"],
                    "data": [2012723, 1928373, 1754603, 1686411, 1502446]
                },
                "top_sales_accounts": {
                    "labels": ["ì‚¼ì •ìœ í†µ", "ë™ì„œìƒì‚¬", "í•œë¹›ìƒì‚¬", "ì—ì½”ë§ˆíŠ¸", "ê·¸ë¦°í‘¸ë“œ"],
                    "data": [821987, 680822, 252998, 240401, 126040]
                },
                "monthly_trends": {
                    "labels": ["2025-01", "2025-02", "2025-03", "2025-04"],
                    "sales_data": [1162486, 617631, 424831, 30973],
                    "purchases_data": [2723337, 2378952, 2329610, 710164]
                }
            }
        };

        // ìˆ«ì í¬ë§·íŒ… í•¨ìˆ˜ (ì˜ˆ: 1234567 -> 1,234,567)
        const formatNumber = (num) => num.toLocaleString('ko-KR');

        // --- 1. ì¢…í•© í˜„í™© ë°ì´í„° ë°”ì¸ë”© ---
        document.getElementById('total-sales').textContent = `${formatNumber(reportData.summary.total_sales)} ì›`;
        document.getElementById('total-purchases').textContent = `${formatNumber(reportData.summary.total_purchases)} ì›`;
        document.getElementById('total-transactions').textContent = `${formatNumber(reportData.summary.total_transactions)} ê±´`;
        document.getElementById('unique-accounts').textContent = `${formatNumber(reportData.summary.unique_accounts)} ê³³`;

        // --- 2. ì°¨íŠ¸ ìƒì„± ---
        const CHART_TOOLTIP_CONFIG = {
            callbacks: {
                label: function(context) {
                    let label = context.dataset.label || '';
                    if (label) label += ': ';
                    if (context.parsed.x !== null) {
                        label += `${formatNumber(context.parsed.x)} ì›`;
                    }
                    return label;
                }
            }
        };

        const CHART_LAYOUT_CONFIG = {
             padding: { top: 10, bottom: 10, left: 10, right: 10 }
        };
        
        // ì°¨íŠ¸ 1: ì´ ê±°ë˜ì•¡ ê¸°ì¤€ TOP 5
        new Chart(document.getElementById('topOverallChart'), {
            type: 'bar',
            data: {
                labels: reportData.charts.top_overall_accounts.labels,
                datasets: [{
                    label: 'ì´ ê±°ë˜ì•¡',
                    data: reportData.charts.top_overall_accounts.data,
                    backgroundColor: 'rgba(59, 130, 246, 0.7)',
                    borderColor: 'rgba(59, 130, 246, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y', // ê°€ë¡œ ë§‰ëŒ€ ì°¨íŠ¸
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false }, tooltip: CHART_TOOLTIP_CONFIG },
                layout: CHART_LAYOUT_CONFIG
            }
        });
        
        // ì°¨íŠ¸ 2: ì´ ë§¤ì¶œì•¡ ê¸°ì¤€ TOP 5
        new Chart(document.getElementById('topSalesChart'), {
            type: 'bar',
            data: {
                labels: reportData.charts.top_sales_accounts.labels,
                datasets: [{
                    label: 'ì´ ë§¤ì¶œì•¡',
                    data: reportData.charts.top_sales_accounts.data,
                    backgroundColor: 'rgba(239, 68, 68, 0.7)',
                    borderColor: 'rgba(239, 68, 68, 1)',
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { display: false }, tooltip: CHART_TOOLTIP_CONFIG },
                layout: CHART_LAYOUT_CONFIG
            }
        });

        // ì°¨íŠ¸ 3: ì›”ë³„ ê±°ë˜ ë™í–¥
        new Chart(document.getElementById('monthlyTrendChart'), {
            type: 'line',
            data: {
                labels: reportData.charts.monthly_trends.labels,
                datasets: [
                    {
                        label: 'ì›”ë³„ ë§¤ì¶œ',
                        data: reportData.charts.monthly_trends.sales_data,
                        borderColor: 'rgba(59, 130, 246, 1)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        fill: true,
                        tension: 0.3
                    },
                    {
                        label: 'ì›”ë³„ ë§¤ì…',
                        data: reportData.charts.monthly_trends.purchases_data,
                        borderColor: 'rgba(34, 197, 94, 1)',
                        backgroundColor: 'rgba(34, 197, 94, 0.1)',
                        fill: true,
                        tension: 0.3
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    tooltip: {
                         callbacks: {
                            label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) label += ': ';
                                if (context.parsed.y !== null) {
                                    label += `${formatNumber(context.parsed.y)} ì›`;
                                }
                                return label;
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        ticks: {
                           callback: function(value) { return `${formatNumber(value/10000)}ë§Œ`; }
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
